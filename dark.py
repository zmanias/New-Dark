import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9weXRob24yCiMgY29kaW5nPXV0Zi04CgoKaW1wb3J0IG9zLHN5cyx0aW1lLGRhdGV0aW1lLHJhbmRvbSxoYXNobGliLHJlLHRocmVhZGluZyxqc29uLHVybGxpYixjb29raWVsaWIscmVxdWVzdHMsbWVjaGFuaXplCmZyb20gbXVsdGlwcm9jZXNzaW5nLnBvb2wgaW1wb3J0IFRocmVhZFBvb2wKZnJvbSByZXF1ZXN0cy5leGNlcHRpb25zIGltcG9ydCBDb25uZWN0aW9uRXJyb3IKZnJvbSBtZWNoYW5pemUgaW1wb3J0IEJyb3dzZXIKCgpyZWxvYWQoc3lzKQpzeXMuc2V0ZGVmYXVsdGVuY29kaW5nKCd1dGY4JykKYnIgPSBtZWNoYW5pemUuQnJvd3NlcigpCmJyLnNldF9oYW5kbGVfcm9ib3RzKEZhbHNlKQpici5zZXRfaGFuZGxlX3JlZnJlc2gobWVjaGFuaXplLl9odHRwLkhUVFBSZWZyZXNoUHJvY2Vzc29yKCksbWF4X3RpbWU9MSkKYnIuYWRkaGVhZGVycyA9IFsoJ1VzZXItQWdlbnQnLCAnT3BlcmEvOS44MCAoQW5kcm9pZDsgT3BlcmEgTWluaS8zMi4wLjIyNTQvODUuIFU7IGlkKSBQcmVzdG8vMi4xMi40MjMgVmVyc2lvbi8xMi4xNicpXQoKCmRlZiBrZWx1YXIoKToKCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1FeGl0IgoJb3Muc3lzLmV4aXQoKQoJCgkKZGVmIGFjYWsoeCk6CiAgICB3ID0gJ21oa2JwY1AnCiAgICBkID0gJycKICAgIGZvciBpIGluIHg6CiAgICAgICAgZCArPSAnIScrd1tyYW5kb20ucmFuZGludCgwLGxlbih3KS0xKV0raQogICAgcmV0dXJuIGNldGFrKGQpCiAgICAKICAgIApkZWYgY2V0YWsoeCk6CiAgICB3ID0gJ21oa2JwY1AnCiAgICBmb3IgaSBpbiB3OgogICAgICAgIGogPSB3LmluZGV4KGkpCiAgICAgICAgeD0geC5yZXBsYWNlKCchJXMnJWksJ1wwMzNbJXM7MW0nJXN0cigzMStqKSkKICAgIHggKz0gJ1wwMzNbMG0nCiAgICB4ID0geC5yZXBsYWNlKCchMCcsJ1wwMzNbMG0nKQogICAgc3lzLnN0ZG91dC53cml0ZSh4KydcbicpCgkKCmRlZiBqYWxhbih6KToKCWZvciBlIGluIHogKyAnXG4nOgoJCXN5cy5zdGRvdXQud3JpdGUoZSkKCQlzeXMuc3Rkb3V0LmZsdXNoKCkKCQl0aW1lLnNsZWVwKDAuMDUpCgkJCgkJCmxvZ28gPSAiIFx4MWJbMTs5Mm3ilojilojilojilojilojilojilojilojilohcbiBceDFiWzE7OTJt4paI4paE4paI4paI4paI4paI4paI4paE4paIICAgICAgICAgXHgxYlsxOzk3beKXj+KWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOKWrOC5kdup26nguZHilqzilqzilqzilqzilqzilqzilqzilqzil49cbiBceDFiWzE7OTJt4paIIFx4MWJbMTs5M23ilrzilrzilrzilrzilrwgIFx4MWJbMTs5N20tIF8gLS1fLS0gXHgxYlsxOzkybeKVlOKVpuKVl+KUjOKUgOKUkOKUrOKUgOKUkOKUrOKUjOKUgCAgIOKVlOKVkOKVl+KVlOKVlyBcbiBceDFiWzE7OTJt4paIICBceDFiWzE7OTdtICBceDFiWzE7OTdtXy1fLS0gLV8gLS1fXyBceDFiWzE7OTJtIOKVkeKVkeKUnOKUgOKUpOKUnOKUrOKUmOKUnOKUtOKUkOKUgOKUgOKUgOKVoOKVoyDilaDilanilZdcbiBceDFiWzE7OTJt4paIIFx4MWJbMTs5M23ilrLilrLilrLilrLilrIgXHgxYlsxOzk3bS0tICAtIF8gLS0gXHgxYlsxOzkybeKVkOKVqeKVneKUtCDilLTilLTilJTilIDilLQg4pS0ICAg4pWaICDilZrilZDilZ0gIFx4MWJbMTs5M21WMS4wXG4gXHgxYlsxOzkybeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKWiCAgICAgICAgIFx4MWJbMTs5N23Cqz09PT09PT09PT3inKc9PT09PT09PT09wrtcbiBceDFiWzE7OTJtIOKWiOKWiCDilojilohcbiBceDFiWzE7OTdt4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXXG4gXHgxYlsxOzk3beKVkSBceDFiWzE7OTNtKiAgXHgxYlsxOzk3bUF1dGhvciAgIFx4MWJbMTs5MW06ICBceDFiWzE7OTZtIFptYW5pYXMgICAgIFx4MWJbMTs5N20gICAgICAgICAgICAgICAgICAg4pWRXG4gXHgxYlsxOzk3beKVkSBceDFiWzE7OTNtKiAgXHgxYlsxOzk3bUdpdEh1YiAgIFx4MWJbMTs5MW06ICBceDFiWzE7OTJtIFx4MWJbOTJtaHR0cHM6Ly9naXRodWIuY29tL3ptYW5pYXMgIFx4MWJbICAgIFx4MWJbMTs5N20g4pWRXG4gXHgxYlsxOzk3beKVkSBceDFiWzE7OTNtKiAgXHgxYlsxOzk3bVlvdXR1YmUgIFx4MWJbMTs5MW06ICAgXHgxYlsxOzkyXHgxYls5Mm1Ub29scyBabWFuaWFzICAgICAgICAgICAgXHgxYlsgICAgIFx4MWJbMTs5N20gICDilZEgICBcbiBceDFiWzE7OTdt4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIiAgJ1xuXHgxYlsxOzkzbVsqXSBMb2dpbiBGYiBMZXdhdCBPcGVyYW1pbmkgQWdhciBUaWRhayBLZW5hIFNlc2lcbicKZGVmIHRpaygpOgoJdGl0aWsgPSBbJy4gICAnLCcuLiAgJywnLi4uICddCglmb3IgbyBpbiB0aXRpazoKCQlwcmludCgiXHJceDFiWzE7OTFtW+KXj10gXHgxYlsxOzkybUxvYWRpbmcgXHgxYlsxOzk3bSIrbyksO3N5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpCgoKYmFjayA9IDAKdGhyZWFkcyA9IFtdCmJlcmhhc2lsID0gW10KY2VrcG9pbnQgPSBbXQpva3MgPSBbXQppZCA9IFtdCmxpc3RncnVwID0gW10KdnVsbm90ID0gIlwwMzNbMzFtTm90IFZ1bG4iCnZ1bG4gPSAiXDAzM1szMm1WdWxuIgoKZGVmIHNpYXBhKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCW5hbWEgPSByYXdfaW5wdXQoIlwwMzNbMTs5N21TaWFwYSBuYW1hIGthbXUgPyBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIikKCWlmIG5hbWEgPT0iIjoKCQlwcmludCJcMDMzWzE7OTZtWyFdIFwwMzNbMTs5MW1Jc2kgeWFuZyBiZW5hciIKCQl0aW1lLnNsZWVwKDEpCgkJc2lhcGEoKQoJZWxzZToKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlqYWxhbigiXDAzM1sxOzk3bVNlbGFtYXQgZGF0YW5nIFwwMzNbMTs5Mm0iICtuYW1hKyAiXG5cMDMzWzE7OTdtVGVyaW1ha2FzaWggdGVsYWggbWVuZ2d1bmFrYW4gdG9vbHMgaW5pICEhIikKCQl0aW1lLnNsZWVwKDEpCgkJbG9naW5TQygpCgkJCgkJCmRlZiBsb2dpblNDKCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXByaW50IlwwMzNbMTs5N21TaWxhaGthbiBsb2dpbiBTQyBueWEgZHVsdSBib3NxdWVcbiIKCXVzZXJuYW1lID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtWypdIFwwMzNbMTs5N21Vc2VybmFtZSBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIikKCXBhc3N3b3JkID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtWypdIFwwMzNbMTs5N21QYXNzd29yZCBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIikKCWlmIHVzZXJuYW1lID09IlptYW5pYXMiIGFuZCBwYXNzd29yZCA9PSJNci1YIjoKCQlwcmludCJcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzkybUxvZ2luIHN1Y2Nlc3MiCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCWVsc2U6CgkJcHJpbnQiXDAzM1sxOzk2bVshXSBcMDMzWzE7OTFtU2FsYWghISIKCQl0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgICAgICBMb2dpblNDKCkKCmRlZiBsb2dpbigpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQgPSBvcGVuKCdsb2dpbi50eHQnLCdyJykKCQltZW51KCkgCglleGNlcHQgKEtleUVycm9yLElPRXJyb3IpOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCAiXHgxYlsxOzk3beKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIKCQlwcmludCgnXHgxYlsxOzkxbVvimIZdIFx4MWJbMTs5Mm1MT0dJTiBBS1VOIEZBQ0VCT09LIEFOREEgXHgxYlsxOzkxbVvimIZdJyApCgkJaWQgPSByYXdfaW5wdXQoJ1x4MWJbMTs5MW1bK10gXHgxYlsxOzk2bVVzZXJuYW1lIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm0nKQoJCXB3ZCA9IHJhd19pbnB1dCgnXHgxYlsxOzkxbVsrXSBceDFiWzE7OTZtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkybScpCgkJdGlrKCkKCQl0cnk6CgkJCWJyLm9wZW4oJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20nKQoJCWV4Y2VwdCBtZWNoYW5pemUuVVJMRXJyb3I6CgkJCXByaW50IlxuXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtVGlkYWsgYWRhIGtvbmVrc2kiCgkJCWtlbHVhcigpCgkJYnIuX2ZhY3RvcnkuaXNfaHRtbCA9IFRydWUKCQlici5zZWxlY3RfZm9ybShucj0wKQoJCWJyLmZvcm1bJ2VtYWlsJ10gPSBpZAoJCWJyLmZvcm1bJ3Bhc3MnXSA9IHB3ZAoJCWJyLnN1Ym1pdCgpCgkJdXJsID0gYnIuZ2V0dXJsKCkKCQlpZiAnc2F2ZS1kZXZpY2UnIGluIHVybDoKCQkJdHJ5OgoJCQkJc2lnPSAnYXBpX2tleT04ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZGNyZWRlbnRpYWxzX3R5cGU9cGFzc3dvcmRlbWFpbD0nK2lkKydmb3JtYXQ9SlNPTmdlbmVyYXRlX21hY2hpbmVfaWQ9MWdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xbG9jYWxlPWVuX1VTbWV0aG9kPWF1dGgubG9naW5wYXNzd29yZD0nK3B3ZCsncmV0dXJuX3NzbF9yZXNvdXJjZXM9MHY9MS4wNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInCgkJCQlkYXRhID0geyJhcGlfa2V5IjoiODgyYTg0OTAzNjFkYTk4NzAyYmY5N2EwMjFkZGMxNGQiLCJjcmVkZW50aWFsc190eXBlIjoicGFzc3dvcmQiLCJlbWFpbCI6aWQsImZvcm1hdCI6IkpTT04iLCAiZ2VuZXJhdGVfbWFjaGluZV9pZCI6IjEiLCJnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMiOiIxIiwibG9jYWxlIjoiZW5fVVMiLCJtZXRob2QiOiJhdXRoLmxvZ2luIiwicGFzc3dvcmQiOnB3ZCwicmV0dXJuX3NzbF9yZXNvdXJjZXMiOiIwIiwidiI6IjEuMCJ9CgkJCQl4PWhhc2hsaWIubmV3KCJtZDUiKQoJCQkJeC51cGRhdGUoc2lnKQoJCQkJYT14LmhleGRpZ2VzdCgpCgkJCQlkYXRhLnVwZGF0ZSh7J3NpZyc6YX0pCgkJCQl1cmwgPSAiaHR0cHM6Ly9hcGkuZmFjZWJvb2suY29tL3Jlc3RzZXJ2ZXIucGhwIgoJCQkJcj1yZXF1ZXN0cy5nZXQodXJsLHBhcmFtcz1kYXRhKQoJCQkJej1qc29uLmxvYWRzKHIudGV4dCkKCQkJCXVuaWtlcnMgPSBvcGVuKCJsb2dpbi50eHQiLCAndycpCgkJCQl1bmlrZXJzLndyaXRlKHpbJ2FjY2Vzc190b2tlbiddKQoJCQkJdW5pa2Vycy5jbG9zZSgpCgkJCQlwcmludCAnXG5cMDMzWzE7OTZtW+Kck10gXHgxYlsxOzkybUxvZ2luIEJlcmhhc2lsJwoJCQkJcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvZnJpZW5kcz9tZXRob2Q9cG9zdCZ1aWRzPWd3aW11c2EzJmFjY2Vzc190b2tlbj0nK3pbJ2FjY2Vzc190b2tlbiddKQoJCQkJb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy55b3V0dWJlLmNvbS9jaGFubmVsL1VDbWdpVlZJNXVhUXNuYTVDSl9zdlZpZycpCgkJCQltZW51KCkKCQkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQkJcHJpbnQiXG5cMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1UaWRhayBhZGEga29uZWtzaSIKCQkJCWtlbHVhcigpCgkJaWYgJ2NoZWNrcG9pbnQnIGluIHVybDoKCQkJcHJpbnQoIlxuXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtU2VwZXJ0aW55YSBha3VuIGFuZGEga2VuYSBjaGVja3BvaW50IikKCQkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQkJdGltZS5zbGVlcCgxKQoJCQlrZWx1YXIoKQoJCWVsc2U6CgkJCXByaW50KCJcblwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbVBhc3N3b3JkL0VtYWlsIHNhbGFoIikKCQkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQkJdGltZS5zbGVlcCgxKQoJCQlsb2dpbigpCgkJCQoJCQkKZGVmIG1lbnUoKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJa2VsdWFyKCkKCXRyeToKCQlvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCWEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQoJCW5hbWEgPSBhWyduYW1lJ10KCQlpZCA9IGFbJ2lkJ10KCWV4Y2VwdCBLZXlFcnJvcjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCJcMDMzWzE7OTZtWyFdIFwwMzNbMTs5MW1Ub2tlbiBpbnZhbGlkIgoJCW9zLnN5c3RlbSgncm0gLXJmIGxvZ2luLnR4dCcpCgkJdGltZS5zbGVlcCgxKQoJCWxvZ2luKCkKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlwcmludCJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1UaWRhayBhZGEga29uZWtzaSIKCQlrZWx1YXIoKQoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludCBsb2dvCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAiXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV1cMDMzWzE7OTNtIE5hbWEgXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrbmFtYSsiXDAzM1sxOzk3bSAgICAgICAgICAgICAgICAgICIKCXByaW50ICJcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXVwwMzNbMTs5M20gSUQgICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitpZCsiXHgxYlsxOzk3bSAgICAgICAgICAgICAgIgoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJcHJpbnQgIlx4MWJbMTs5N20xLlx4MWJbMTs5M20gSGFjayBmYWNlYm9vayBNQkYiCglwcmludCAiXHgxYlsxOzk3bTIuXHgxYlsxOzkzbSBMaWhhdCBkYWZ0YXIgZ3J1cCAgICAgICAgICAgICAgICIKCXByaW50ICJceDFiWzE7OTdtMy5ceDFiWzE7OTNtIEluZm9ybWFzaSBha3VuICAgICAgICAgICAgICAgIgoJcHJpbnQgIlx4MWJbMTs5N200Llx4MWJbMTs5M20gWWFob28gY2xvbmUgICAgICAgICAgICAgICAiCglwcmludCAiXG5ceDFiWzE7OTFtMC5ceDFiWzE7OTFtIExvZ291dCAgICAgICAgICAgICIKCXBpbGloKCkKCgpkZWYgcGlsaWgoKToKCXVuaWtlcnMgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzk3bVtabWFuaWFzXT4+PiBcMDMzWzE7OTdtIikKCWlmIHVuaWtlcnMgPT0iIjoKCQlwcmludCAiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtSXNpIHlhbmcgYmVuYXIiCgkJcGlsaWgoKQoJZWxpZiB1bmlrZXJzID09IjEiOgoJCXN1cGVyKCkKCWVsaWYgdW5pa2VycyA9PSIyIjoKCQlncnVwc2F5YSgpCgllbGlmIHVuaWtlcnMgPT0iMyI6CgkJaW5mb3JtYXNpKCkKCWVsaWYgdW5pa2VycyA9PSI0IjoKCQl5YWhvbygpCgllbGlmIHVuaWtlcnMgPT0iMCI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJamFsYW4oJ01lbmdoYXB1cyB0b2tlbicpCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQlrZWx1YXIoKQoJZWxzZToKCQlwcmludCAiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtSXNpIHlhbmcgYmVuYXIiCgkJcGlsaWgoKQoJCQoJCQpkZWYgc3VwZXIoKToKCWdsb2JhbCB0b2tldAoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlrZWx1YXIoKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAiXHgxYlsxOzk3bTEuXHgxYlsxOzkzbSBDcmFjayBkYXJpIGRhZnRhciB0ZW1hbiIKCXByaW50ICJceDFiWzE7OTdtMi5ceDFiWzE7OTNtIENyYWNrIGRhcmkgdGVtYW4iCglwcmludCAiXHgxYlsxOzk3bTMuXHgxYlsxOzkzbSBDcmFjayBkYXJpIG1lbWJlciBncnVwIgoJcHJpbnQgIlx4MWJbMTs5N200Llx4MWJbMTs5M20gQ3JhY2sgZGFyaSBmaWxlIgoJcHJpbnQgIlxuXHgxYlsxOzkxbTAuXHgxYlsxOzkxbSBLZW1iYWxpIgoJcGlsaWhfc3VwZXIoKQoKZGVmIHBpbGloX3N1cGVyKCk6CglwZWFrID0gcmF3X2lucHV0KCJcblwwMzNbMTs5N21bWm1hbmlhc10+Pj4gXDAzM1sxOzk3bSIpCglpZiBwZWFrID09IiI6CgkJcHJpbnQgIlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbUlzaSB5YW5nIGJlbmFyIgoJCXBpbGloX3N1cGVyKCkKCWVsaWYgcGVhayA9PSIxIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJCWphbGFuKCdcMDMzWzE7OTZtW+Kcul0gXDAzM1sxOzkzbU1lbmdhbWJpbCBJRCBcMDMzWzE7OTdtLi4uJykKCQlyID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZS9mcmllbmRzP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKHIudGV4dCkKCQlmb3IgcyBpbiB6WydkYXRhJ106CgkJCWlkLmFwcGVuZChzWydpZCddKQoJZWxpZiBwZWFrID09IjIiOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCXByaW50IGxvZ28KCQlwcmludCA0MioiXDAzM1sxOzk2bT0iCgkJaWR0ID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21NYXN1a2FuIElEIHRlbWFuIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iKQoJCXRyeToKCQkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQlvcCA9IGpzb24ubG9hZHMoam9rLnRleHQpCgkJCXByaW50IlwwMzNbMTs5Nm1bXDAzM1sxOzk3beKck1wwMzNbMTs5Nm1dIFwwMzNbMTs5M21OYW1hIHRlbWFuXDAzM1sxOzkxbSA6XDAzM1sxOzk3bSAiK29wWyJuYW1lIl0KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbVRlbWFuIHRpZGFrIGRpdGVtdWthbiEiCgkJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJCQlzdXBlcigpCgkJamFsYW4oJ1wwMzNbMTs5Nm1b4py6XSBcMDMzWzE7OTNtTWVuZ2FtYmlsIElEIFwwMzNbMTs5N20uLi4nKQoJCXIgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraWR0KyIvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Iit0b2tldCkKCQl6ID0ganNvbi5sb2FkcyhyLnRleHQpCgkJZm9yIGkgaW4gelsnZGF0YSddOgoJCQlpZC5hcHBlbmQoaVsnaWQnXSkKCWVsaWYgcGVhayA9PSIzIjoKCQlvcy5zeXN0ZW0oJ2NsZWFyJykKCQlwcmludCBsb2dvCgkJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJCWlkZz1yYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbU1hc3VrYW4gSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgkJdHJ5OgoJCQlyPXJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vZ3JvdXAvP2lkPScraWRnKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJCWFzdz1qc29uLmxvYWRzKHIudGV4dCkKCQkJcHJpbnQiXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkzbU5hbWEgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICIrYXN3WyduYW1lJ10KCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50IlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbUdyb3VwIHRpZGFrIGRpdGVtdWthbiIKCQkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUtlbWJhbGlcMDMzWzE7OTZtXSIpCgkJCXN1cGVyKCkKCQlqYWxhbignXDAzM1sxOzk2bVvinLpdIFwwMzNbMTs5M21NZW5nYW1iaWwgSUQgXDAzM1sxOzk3bS4uLicpCgkJcmU9cmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8nK2lkZysnL21lbWJlcnM/ZmllbGRzPW5hbWUsaWQmbGltaXQ9OTk5OTk5OTk5JmFjY2Vzc190b2tlbj0nK3Rva2V0KQoJCXM9anNvbi5sb2FkcyhyZS50ZXh0KQoJCWZvciBwIGluIHNbJ2RhdGEnXToKCQkJaWQuYXBwZW5kKHBbJ2lkJ10pCgllbGlmIHBlYWsgPT0iNCI6CgkJb3Muc3lzdGVtKCdjbGVhcicpCgkJcHJpbnQgbG9nbwoJCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCQl0cnk6CgkJCWlkbGlzdCA9IHJhd19pbnB1dCgnXHgxYlsxOzk2bVsrXSBceDFiWzE7OTNtTWFzdWthbiBuYW1hIGZpbGUgIFx4MWJbMTs5MW06IFx4MWJbMTs5N20nKQoJCQlmb3IgbGluZSBpbiBvcGVuKGlkbGlzdCwncicpLnJlYWRsaW5lcygpOgoJCQkJaWQuYXBwZW5kKGxpbmUuc3RyaXAoKSkKCQlleGNlcHQgSU9FcnJvcjoKCQkJcHJpbnQgJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkxbUZpbGUgdGlkYWsgZGl0ZW11a2FuJwoJCQlyYXdfaW5wdXQoJ1xuXHgxYlsxOzk2bVsgXHgxYlsxOzk3bUtlbWJhbGkgXHgxYlsxOzk2bV0nKQoJCQlzdXBlcigpCgllbGlmIHBlYWsgPT0iMCI6CgkJbWVudSgpCgllbHNlOgoJCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1Jc2kgeWFuZyBiZW5hciIKCQlwaWxpaF9zdXBlcigpCgkKCXByaW50ICJcMDMzWzE7OTZtWytdIFwwMzNbMTs5M21Ub3RhbCBJRCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGlkKSkKCXRpdGlrID0gWycuICAgJywnLi4gICcsJy4uLiAnXQoJZm9yIG8gaW4gdGl0aWs6CgkJcHJpbnQoIlxyXDAzM1sxOzk2bVtcMDMzWzE7OTdt4py4XDAzM1sxOzk2bV0gXDAzM1sxOzkzbUNyYWNrIFwwMzNbMTs5N20iK28pLDtzeXMuc3Rkb3V0LmZsdXNoKCk7dGltZS5zbGVlcCgxKQoJcHJpbnQKCXByaW50KCdceDFiWzE7OTZtWyFdIFx4MWJbMTs5M21TdG9wIENUUkwreicpCglwcmludCA0MioiXDAzM1sxOzk2bT0iCgkKCQkJCglkZWYgbWFpbihhcmcpOgoJCWdsb2JhbCBjZWtwb2ludCxva3MKCQl1c2VyID0gYXJnCgkJdHJ5OgoJCQlvcy5ta2Rpcignb3V0JykKCQlleGNlcHQgT1NFcnJvcjoKCQkJcGFzcwoJCXRyeToKCQkJYSA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJyt1c2VyKycvP2FjY2Vzc190b2tlbj0nK3Rva2V0KQoJCQliID0ganNvbi5sb2FkcyhhLnRleHQpCgkJCXBhc3MxID0gYlsnZmlyc3RfbmFtZSddKycxMjMnCgkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3MxKSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4pyTXSBceDFiWzE7OTJtQkVSSEFTSUwnCgkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTJtJyArIGJbJ25hbWUnXQoJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtSUQgXHgxYlsxOzkxbSAgICAgIDogXHgxYlsxOzkybScgKyB1c2VyCgkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21QYXNzd29yZCBceDFiWzE7OTFtOiBceDFiWzE7OTJtJyArIHBhc3MxICsgJ1xuJwoJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MxKQoJCQllbHNlOgoJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcll0gXHgxYlsxOzkzbUNFS1BPSU5UJwoJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcul0gXHgxYlsxOzk3bU5hbWEgXHgxYlsxOzkxbSAgICA6IFx4MWJbMTs5M20nICsgYlsnbmFtZSddCgkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtSUQgXHgxYlsxOzkxbSAgICAgIDogXHgxYlsxOzkzbScgKyB1c2VyCgkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkzbScgKyBwYXNzMSArICdcbicKCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzMSsiXG4iKQoJCQkJCWNlay5jbG9zZSgpCgkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczEpCgkJCQllbHNlOgoJCQkJCXBhc3MyID0gYlsnZmlyc3RfbmFtZSddKycxMjM0NScKCQkJCQlkYXRhID0gdXJsbGliLnVybG9wZW4oImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2FjY2Vzc190b2tlbj0yMzc3NTk5MDk1OTE2NTUlMjUyNTdDMGYxNDBhYWJlZGZiNjVhYzI3YTczOWVkMWEyMjYzYjEmZm9ybWF0PWpzb24mc2RrX3ZlcnNpb249MiZlbWFpbD0iKyh1c2VyKSsiJmxvY2FsZT1lbl9VUyZwYXNzd29yZD0iKyhwYXNzMikrIiZzZGs9aW9zJmdlbmVyYXRlX3Nlc3Npb25fY29va2llcz0xJnNpZz0zZjU1NWY5OWZiNjFmY2Q3YWEwYzQ0ZjU4ZjUyMmVmNiIpCgkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCWlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CgkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kck10gXHgxYlsxOzkybUJFUkhBU0lMJwoJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTJtJyArIGJbJ25hbWUnXQoJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21JRCBceDFiWzE7OTFtICAgICAgOiBceDFiWzE7OTJtJyArIHVzZXIKCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkybScgKyBwYXNzMiArICdcbicKCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MyKQoJCQkJCWVsc2U6CgkJCQkJCWlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWyJlcnJvcl9tc2ciXToKCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcll0gXHgxYlsxOzkzbUNFS1BPSU5UJwoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4py6XSBceDFiWzE7OTdtTmFtYSBceDFiWzE7OTFtICAgIDogXHgxYlsxOzkzbScgKyBiWyduYW1lJ10KCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+KeuV0gXHgxYlsxOzk3bUlEIFx4MWJbMTs5MW0gICAgICA6IFx4MWJbMTs5M20nICsgdXNlcgoJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkzbScgKyBwYXNzMiArICdcbicKCQkJCQkJCWNlayA9IG9wZW4oIm91dC9zdXBlcl9jcC50eHQiLCAiYSIpCgkJCQkJCQljZWsud3JpdGUoIklEOiIgK3VzZXIrICIgUHc6IiArcGFzczIrIlxuIikKCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQljZWtwb2ludC5hcHBlbmQodXNlcitwYXNzMikKCQkJCQkJZWxzZToKCQkJCQkJCXBhc3MzID0gYlsnbGFzdF9uYW1lJ10gKyAnMTIzJwoJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczMpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinJNdIFx4MWJbMTs5Mm1CRVJIQVNJTCcKCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTJtJyArIGJbJ25hbWUnXQoJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+KeuV0gXHgxYlsxOzk3bUlEIFx4MWJbMTs5MW0gICAgICA6IFx4MWJbMTs5Mm0nICsgdXNlcgoJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+KeuV0gXHgxYlsxOzk3bVBhc3N3b3JkIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm0nICsgcGFzczMgKyAnXG4nCgkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJZWxzZToKCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcll0gXHgxYlsxOzkzbUNFS1BPSU5UJwoJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTNtJyArIGJbJ25hbWUnXQoJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21JRCBceDFiWzE7OTFtICAgICAgOiBceDFiWzE7OTNtJyArIHVzZXIKCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkzbScgKyBwYXNzMyArICdcbicKCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJY2VrLndyaXRlKCJJRDoiICt1c2VyKyAiIFB3OiIgK3Bhc3MzKyJcbiIpCgkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3MzKQoJCQkJCQkJCWVsc2U6CgkJCQkJCQkJCXBhc3M0ID0gJ0JhbmdzYXQnCgkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M0KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQlpZiAnYWNjZXNzX3Rva2VuJyBpbiBxOgoJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4pyTXSBceDFiWzE7OTJtQkVSSEFTSUwnCgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTJtJyArIGJbJ25hbWUnXQoJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtSUQgXHgxYlsxOzkxbSAgICAgIDogXHgxYlsxOzkybScgKyB1c2VyCgkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21QYXNzd29yZCBceDFiWzE7OTFtOiBceDFiWzE7OTJtJyArIHBhc3M0ICsgJ1xuJwoJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M0KQoJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcll0gXHgxYlsxOzkzbUNFS1BPSU5UJwoJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcul0gXHgxYlsxOzk3bU5hbWEgXHgxYlsxOzkxbSAgICA6IFx4MWJbMTs5M20nICsgYlsnbmFtZSddCgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtSUQgXHgxYlsxOzkxbSAgICAgIDogXHgxYlsxOzkzbScgKyB1c2VyCgkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkzbScgKyBwYXNzNCArICdcbicKCQkJCQkJCQkJCQljZWsgPSBvcGVuKCJvdXQvc3VwZXJfY3AudHh0IiwgImEiKQoJCQkJCQkJCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzNCsiXG4iKQoJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJY2VrcG9pbnQuYXBwZW5kKHVzZXIrcGFzczQpCgkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCWJpcnRoZGF5ID0gYlsnYmlydGhkYXknXQoJCQkJCQkJCQkJCXBhc3M1ID0gYmlydGhkYXkucmVwbGFjZSgnLycsICcnKQoJCQkJCQkJCQkJCWRhdGEgPSB1cmxsaWIudXJsb3BlbigiaHR0cHM6Ly9iLWFwaS5mYWNlYm9vay5jb20vbWV0aG9kL2F1dGgubG9naW4/YWNjZXNzX3Rva2VuPTIzNzc1OTkwOTU5MTY1NSUyNTI1N0MwZjE0MGFhYmVkZmI2NWFjMjdhNzM5ZWQxYTIyNjNiMSZmb3JtYXQ9anNvbiZzZGtfdmVyc2lvbj0yJmVtYWlsPSIrKHVzZXIpKyImbG9jYWxlPWVuX1VTJnBhc3N3b3JkPSIrKHBhc3M1KSsiJnNkaz1pb3MmZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzPTEmc2lnPTNmNTU1Zjk5ZmI2MWZjZDdhYTBjNDRmNThmNTIyZWY2IikKCQkJCQkJCQkJCQlxID0ganNvbi5sb2FkKGRhdGEpCgkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4pyTXSBceDFiWzE7OTJtQkVSSEFTSUwnCgkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcul0gXHgxYlsxOzk3bU5hbWEgXHgxYlsxOzkxbSAgICA6IFx4MWJbMTs5Mm0nICsgYlsnbmFtZSddCgkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+KeuV0gXHgxYlsxOzk3bUlEIFx4MWJbMTs5MW0gICAgICA6IFx4MWJbMTs5Mm0nICsgdXNlcgoJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21QYXNzd29yZCBceDFiWzE7OTFtOiBceDFiWzE7OTJtJyArIHBhc3M1ICsgJ1xuJwoJCQkJCQkJCQkJCQlva3MuYXBwZW5kKHVzZXIrcGFzczUpCgkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHFbImVycm9yX21zZyJdOgoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4pyWXSBceDFiWzE7OTNtQ0VLUE9JTlQnCgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTNtJyArIGJbJ25hbWUnXQoJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtSUQgXHgxYlsxOzkxbSAgICAgIDogXHgxYlsxOzkzbScgKyB1c2VyCgkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21QYXNzd29yZCBceDFiWzE7OTFtOiBceDFiWzE7OTNtJyArIHBhc3M1ICsgJ1xuJwoJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCWNlay53cml0ZSgiSUQ6IiArdXNlcisgIiBQdzoiICtwYXNzNSsiXG4iKQoJCQkJCQkJCQkJCQkJY2VrLmNsb3NlKCkKCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M1KQoJCQkJCQkJCQkJCQllbHNlOgoJCQkJCQkJCQkJCQkJcGFzczYgPSAnU2F5YW5nJwoJCQkJCQkJCQkJCQkJZGF0YSA9IHVybGxpYi51cmxvcGVuKCJodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbj9hY2Nlc3NfdG9rZW49MjM3NzU5OTA5NTkxNjU1JTI1MjU3QzBmMTQwYWFiZWRmYjY1YWMyN2E3MzllZDFhMjI2M2IxJmZvcm1hdD1qc29uJnNka192ZXJzaW9uPTImZW1haWw9IisodXNlcikrIiZsb2NhbGU9ZW5fVVMmcGFzc3dvcmQ9IisocGFzczYpKyImc2RrPWlvcyZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZzaWc9M2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYiKQoJCQkJCQkJCQkJCQkJcSA9IGpzb24ubG9hZChkYXRhKQoJCQkJCQkJCQkJCQkJaWYgJ2FjY2Vzc190b2tlbicgaW4gcToKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinJNdIFx4MWJbMTs5Mm1CRVJIQVNJTCcKCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTJtJyArIGJbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+KeuV0gXHgxYlsxOzk3bUlEIFx4MWJbMTs5MW0gICAgICA6IFx4MWJbMTs5Mm0nICsgdXNlcgoJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+KeuV0gXHgxYlsxOzk3bVBhc3N3b3JkIFx4MWJbMTs5MW06IFx4MWJbMTs5Mm0nICsgcGFzczYgKyAnXG4nCgkJCQkJCQkJCQkJCQkJb2tzLmFwcGVuZCh1c2VyK3Bhc3M2KQoJCQkJCQkJCQkJCQkJZWxzZToKCQkJCQkJCQkJCQkJCQlpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsiZXJyb3JfbXNnIl06CgkJCQkJCQkJCQkJCQkJCXByaW50ICdceDFiWzE7OTZtW+Kcll0gXHgxYlsxOzkzbUNFS1BPSU5UJwoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinLpdIFx4MWJbMTs5N21OYW1hIFx4MWJbMTs5MW0gICAgOiBceDFiWzE7OTNtJyArIGJbJ25hbWUnXQoJCQkJCQkJCQkJCQkJCQlwcmludCAnXHgxYlsxOzk2bVvinrldIFx4MWJbMTs5N21JRCBceDFiWzE7OTFtICAgICAgOiBceDFiWzE7OTNtJyArIHVzZXIKCQkJCQkJCQkJCQkJCQkJcHJpbnQgJ1x4MWJbMTs5Nm1b4p65XSBceDFiWzE7OTdtUGFzc3dvcmQgXHgxYlsxOzkxbTogXHgxYlsxOzkzbScgKyBwYXNzNiArICdcbicKCQkJCQkJCQkJCQkJCQkJY2VrID0gb3Blbigib3V0L3N1cGVyX2NwLnR4dCIsICJhIikKCQkJCQkJCQkJCQkJCQkJY2VrLndyaXRlKCJJRDoiICt1c2VyKyAiIFB3OiIgK3Bhc3M2KyJcbiIpCgkJCQkJCQkJCQkJCQkJCWNlay5jbG9zZSgpCgkJCQkJCQkJCQkJCQkJCWNla3BvaW50LmFwcGVuZCh1c2VyK3Bhc3M2KQoJCWV4Y2VwdDoKCQkJcGFzcwoJCQoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCXByaW50ICdcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTJtU2VsZXNhaSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybVRvdGFsIE9LL1x4MWJbMTs5M21DUCBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitzdHIobGVuKG9rcykpKyJcMDMzWzE7OTdtL1wwMzNbMTs5M20iK3N0cihsZW4oY2VrcG9pbnQpKQoJcHJpbnQoIlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybUNQIEZpbGUgdGVyc2ltcGFuIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvc3VwZXJfY3AudHh0IikKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJc3VwZXIoKQoKCmRlZiBncnVwc2F5YSgpOgoJb3Muc3lzdGVtKCdjbGVhcicpCgl0cnk6CgkJdG9rZXQ9b3BlbignbG9naW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlrZWx1YXIoKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCA0MioiXDAzM1sxOzk2bT0iCgl0cnk6CgkJdWggPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2dyb3Vwcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCQlndWQgPSBqc29uLmxvYWRzKHVoLnRleHQpCgkJZm9yIHAgaW4gZ3VkWydkYXRhJ106CgkJCW5hbWEgPSBwWyJuYW1lIl0KCQkJaWQgPSBwWyJpZCJdCgkJCWY9b3Blbignb3V0L0dydXBpZC50eHQnLCd3JykKCQkJbGlzdGdydXAuYXBwZW5kKGlkKQoJCQlmLndyaXRlKGlkICsgJ1xuJykKCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4pyTXSBcMDMzWzE7OTJtR1JPVVAgU0FZQSIpCgkJCXByaW50KCJcMDMzWzE7OTZtW+KeuV0gXDAzM1sxOzk3bUlEICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitzdHIoaWQpKQoJCQlwcmludCgiXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5N21OYW1hXDAzM1sxOzkxbTogXDAzM1sxOzkybSIrc3RyKG5hbWEpICsgJ1xuJykKCQlwcmludCA0MioiXDAzM1sxOzk2bT0iCgkJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgR3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICVzIiUobGVuKGxpc3RncnVwKSkKCQlwcmludCgiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVGVyc2ltcGFuIFwwMzNbMTs5MW06IFwwMzNbMTs5N21vdXQvR3J1cGlkLnR4dCIpCgkJZi5jbG9zZSgpCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUtlbWJhbGlcMDMzWzE7OTZtXSIpCgkJbWVudSgpCglleGNlcHQgKEtleWJvYXJkSW50ZXJydXB0LEVPRkVycm9yKToKCQlwcmludCgiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtVGVyaGVudGkiKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJCW1lbnUoKQoJZXhjZXB0IEtleUVycm9yOgoJCW9zLnJlbW92ZSgnb3V0L0dydXBpZC50eHQnKQoJCXByaW50KCdcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1Hcm91cCB0aWRhayBkaXRlbXVrYW4nKQoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJCW1lbnUoKQoJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCXByaW50IlwwMzNbMTs5Nm1b4pyWXSBceDFiWzE7OTFtVGlkYWsgYWRhIGtvbmVrc2kiCgkJa2VsdWFyKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1FcnJvciIKCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtS2VtYmFsaVwwMzNbMTs5Nm1dIikKCQltZW51KCkKCmRlZiBpbmZvcm1hc2koKToKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlrZWx1YXIoKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglhaWQgPSByYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbU1hc3VrYW4gSUQvTmFtYVwwMzNbMTs5MW0gOiBcMDMzWzE7OTdtJykKCWphbGFuKCdcMDMzWzE7OTZtW+Kcul0gXDAzM1sxOzkzbVR1bmdndSBzZWJlbnRhciBcMDMzWzE7OTdtLi4uJykKCXIgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCgljb2sgPSBqc29uLmxvYWRzKHIudGV4dCkKCWZvciBpIGluIGNva1snZGF0YSddOgoJCWlmIGFpZCBpbiBpWyduYW1lJ10gb3IgYWlkIGluIGlbJ2lkJ106CgkJCXggPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyIraVsnaWQnXSsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCQl6ID0ganNvbi5sb2Fkcyh4LnRleHQpCgkJCXByaW50IDQzKiJcMDMzWzE7OTZtPSIKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTNtTmFtYVwwMzNbMTs5N20gICAgICAgICAgOiAnK3pbJ25hbWUnXQoJCQlleGNlcHQgS2V5RXJyb3I6IHByaW50ICdcMDMzWzE7OTZtWz9dIFwwMzNbMTs5M21OYW1hXDAzM1sxOzk3bSAgICAgICAgICA6IFwwMzNbMTs5MW1UaWRhayBhZGEnCgkJCXRyeToKCQkJCXByaW50ICdcMDMzWzE7OTZtW+KeuV0gXDAzM1sxOzkzbUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogJyt6WydpZCddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5Nm1bP10gXDAzM1sxOzkzbUlEXDAzM1sxOzk3bSAgICAgICAgICAgIDogXDAzM1sxOzkxbVRpZGFrIGFkYScKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTNtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiAnK3pbJ2VtYWlsJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzk2bVs/XSBcMDMzWzE7OTNtRW1haWxcMDMzWzE7OTdtICAgICAgICAgOiBcMDMzWzE7OTFtVGlkYWsgYWRhJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5M21ObyBIUFwwMzNbMTs5N20gICAgICAgICA6ICcrelsnbW9iaWxlX3Bob25lJ10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzk2bVs/XSBcMDMzWzE7OTNtTm8gSFBcMDMzWzE7OTdtICAgICAgICAgOiBcMDMzWzE7OTFtVGlkYWsgYWRhJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5M21UZW1wYXQgdGluZ2dhbFwwMzNbMTs5N206ICcrelsnbG9jYXRpb24nXVsnbmFtZSddCgkJCWV4Y2VwdCBLZXlFcnJvcjogcHJpbnQgJ1wwMzNbMTs5Nm1bP10gXDAzM1sxOzkzbVRlbXBhdCB0aW5nZ2FsXDAzM1sxOzk3bTogXDAzM1sxOzkxbVRpZGFrIGFkYScKCQkJdHJ5OgoJCQkJcHJpbnQgJ1wwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTNtVGFuZ2dhbCBsYWhpclwwMzNbMTs5N20gOiAnK3pbJ2JpcnRoZGF5J10KCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzk2bVs/XSBcMDMzWzE7OTNtVGFuZ2dhbCBsYWhpclwwMzNbMTs5N20gOiBcMDMzWzE7OTFtVGlkYWsgYWRhJwoJCQl0cnk6CgkJCQlwcmludCAnXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5M21TZWtvbGFoXDAzM1sxOzk3bSAgICAgICA6ICcKCQkJCWZvciBxIGluIHpbJ2VkdWNhdGlvbiddOgoJCQkJCXRyeToKCQkJCQkJcHJpbnQgJ1wwMzNbMTs5MW0gICAgICAgICAgICAgICAgICAgfiBcMDMzWzE7OTdtJytxWydzY2hvb2wnXVsnbmFtZSddCgkJCQkJZXhjZXB0IEtleUVycm9yOiBwcmludCAnXDAzM1sxOzkxbSAgICAgICAgICAgICAgICAgICB+IFwwMzNbMTs5MW1UaWRhayBhZGEnCgkJCWV4Y2VwdCBLZXlFcnJvcjogcGFzcwoJCQlyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtS2VtYmFsaVwwMzNbMTs5Nm1dIikKCQkJbWVudSgpCgkJZWxzZToKCQkJcGFzcwoJZWxzZToKCQlwcmludCJcMDMzWzE7OTZtW+Kcll0gXHgxYlsxOzkxbUFrdW4gdGlkYWsgZGl0ZW11a2FuIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJCW1lbnUoKQoKZGVmIHlhaG9vKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gaW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlrZWx1YXIoKQoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAiXHgxYlsxOzk3bTEuXHgxYlsxOzkzbSBDbG9uZSBkYXJpIGRhZnRhciB0ZW1hbiIKCXByaW50ICJceDFiWzE7OTdtMi5ceDFiWzE7OTNtIENsb25lIGRhcmkgdGVtYW4iCglwcmludCAiXHgxYlsxOzk3bTMuXHgxYlsxOzkzbSBDbG9uZSBkYXJpIG1lbWJlciBncm91cCIKCXByaW50ICJceDFiWzE7OTdtNC5ceDFiWzE7OTNtIENsb25lIGRhcmkgZmlsZSIKCXByaW50ICJcblx4MWJbMTs5MW0wLlx4MWJbMTs5MW0gS2VtYmFsaSIKCWNsb25lKCkKICAgICAgIApkZWYgY2xvbmUoKToKCWVtYnVoID0gcmF3X2lucHV0KCJcblx4MWJbMTs5N20gPj4+ICIpCglpZiBlbWJ1aCA9PSIiOgoJCXByaW50ICJcMDMzWzE7OTZtWyFdIFx4MWJbMTs5MW1Jc2kgeWFuZyBiZW5hciIKCWVsaWYgZW1idWggPT0iMSI6CgkJY2xvbmVfZGFyaV9kYWZ0YXJfdGVtYW4oKQoJZWxpZiBlbWJ1aCA9PSIyIjoKCQljbG9uZV9kYXJpX3RlbWFuKCkKCWVsaWYgZW1idWggPT0iMyI6CgkJY2xvbmVfZGFyaV9tZW1iZXJfZ3JvdXAoKQoJZWxpZiBlbWJ1aCA9PSI0IjoKCQljbG9uZV9kYXJpX2ZpbGUoKQoJZWxpZiBlbWJ1aCA9PSIwIjoKCQltZW51KCkKCWVsc2U6CgkJcHJpbnQgIlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbUlzaSB5YW5nIGJlbmFyIgoJCQoKZGVmIGNsb25lX2RhcmlfZGFmdGFyX3RlbWFuKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgncmVzZXQnKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5MW1bIV0gVG9rZW4gSW52YWxpZCIKCQlvcy5zeXN0ZW0oJ3JtIC1yZiBsb2dpbi50eHQnKQoJCXRpbWUuc2xlZXAoMSkKCQlrZWx1YXIoKQoJdHJ5OgoJCW9zLm1rZGlyKCdvdXQnKQoJZXhjZXB0IE9TRXJyb3I6CgkJcGFzcwoJb3Muc3lzdGVtKCdjbGVhcicpCglwcmludCBsb2dvCgltcHNoID0gW10KCWptbCA9IDAKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCWphbGFuKCdcMDMzWzE7OTZtW1x4MWJbMTs5N23inLpceDFiWzE7OTZtXSBcMDMzWzE7OTNtTWVuZ2FtYmlsIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJdGVtYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPScrdG9rZXQpCglraW1hayA9IGpzb24ubG9hZHModGVtYW4udGV4dCkKCWphbGFuKCdcMDMzWzE7OTZtW1x4MWJbMTs5N23inLpceDFiWzE7OTZtXSBcMDMzWzE7OTNtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCAoJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkzbVNhYmFyIGJvc3F1ZSwgVHVuZ2d1aW4gYmViZXJhcGEgbWVuaXQuLi4nKQoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJZm9yIHcgaW4ga2ltYWtbJ2RhdGEnXToKCQlqbWwgKz0xCgkJbXBzaC5hcHBlbmQoam1sKQoJCWlkID0gd1snaWQnXQoJCW5hbWEgPSB3WyduYW1lJ10KCQlsaW5rcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKGxpbmtzLnRleHQpCgkJdHJ5OgoJCQltYWlsID0gelsnZW1haWwnXQoJCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQoJCQlpZiAneWFob28uY29tJyBpbiBvdHc6CgkJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCQkJYnIuc2VsZWN0X2Zvcm0obnI9MCkKCQkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQkJa2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJam9rID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpCgkJCQl0cnk6CgkJCQkJcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCgkJCQlleGNlcHQ6CgkJCQkJY29udGludWUKCQkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwZWs6CgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4pyTXSBcMDMzWzE7OTJtVlVMTiIpCgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtSUQgICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitpZCkKCQkJCQlwcmludCgiXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5N21FbWFpbFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK21haWwpCgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtTmFtYSBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIituYW1hKyAnXG4nKQoJCQkJCXNhdmUgPSBvcGVuKCdvdXQvTWFpbFZ1bG4udHh0JywnYScpCgkJCQkJc2F2ZS53cml0ZSgiTmFtYSA6ICIrIG5hbWEgKyAnXG4nICJJRCAgICAgICAgOiAiKyBpZCArICdcbicgIkVtYWlsICA6ICIrIG1haWwgKyAnXG5cbicpCgkJCQkJc2F2ZS5jbG9zZSgpCgkJCQkJYmVyaGFzaWwuYXBwZW5kKG1haWwpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwYXNzCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglwcmludCAnXDAzM1sxOzk2bVtcMDMzWzE7OTdt4pyTXDAzM1sxOzk2bV0gXDAzM1sxOzkybVNlbGVzYWkgXDAzM1sxOzk3bS4uLi4nCglwcmludCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1Ub3RhbCBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIitzdHIobGVuKGJlcmhhc2lsKSkKCXByaW50IlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybUZpbGUgdGVyc2ltcGFuIFwwMzNbMTs5MW06XDAzM1sxOzk3bSBvdXQvTWFpbFZ1bG4udHh0IgoJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUtlbWJhbGlcMDMzWzE7OTZtXSIpCgltZW51KCkKCQkKCmRlZiBjbG9uZV9kYXJpX3RlbWFuKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJa2VsdWFyKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglpZHQgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbU1hc3VrYW4gSUQgdGVtYW4gXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIpCgl0cnk6CgkJam9rID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8iK2lkdCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCW9wID0ganNvbi5sb2Fkcyhqb2sudGV4dCkKCQlwcmludCJcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTNtTmFtYVwwMzNbMTs5MW0gOlwwMzNbMTs5N20gIitvcFsibmFtZSJdCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtVGVtYW4gdGlkYWsgZGl0ZW11a2FuIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJCW1lbnUoKQoJamFsYW4oJ1wwMzNbMTs5Nm1b4py6XSBcMDMzWzE7OTNtTWVuZ2FtYmlsIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJdGVtYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWR0KycvZnJpZW5kcz9hY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWtpbWFrID0ganNvbi5sb2Fkcyh0ZW1hbi50ZXh0KQoJamFsYW4oJ1wwMzNbMTs5Nm1b4py6XSBcMDMzWzE7OTNtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCgnXHgxYlsxOzk2bVshXSBceDFiWzE7OTNtU3RvcCBDVFJMK3onKQoJcHJpbnQgNDMqIlwwMzNbMTs5Nm09IgoJZm9yIHcgaW4ga2ltYWtbJ2RhdGEnXToKCQlqbWwgKz0xCgkJbXBzaC5hcHBlbmQoam1sKQoJCWlkID0gd1snaWQnXQoJCW5hbWEgPSB3WyduYW1lJ10KCQlsaW5rcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKGxpbmtzLnRleHQpCgkJdHJ5OgoJCQltYWlsID0gelsnZW1haWwnXQoJCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQoJCQlpZiAneWFob28uY29tJyBpbiBvdHc6CgkJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCQkJYnIuc2VsZWN0X2Zvcm0obnI9MCkKCQkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQkJa2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJam9rID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpCgkJCQl0cnk6CgkJCQkJcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCgkJCQlleGNlcHQ6CgkJCQkJY29udGludWUKCQkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwZWs6CgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4pyTXSBcMDMzWzE7OTJtVlVMTiIpCgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtSUQgICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitpZCkKCQkJCQlwcmludCgiXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5N21FbWFpbFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK21haWwpCgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtTmFtYSBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIituYW1hKQoJCQkJCXNhdmUgPSBvcGVuKCdvdXQvVGVtYW5NYWlsVnVsbi50eHQnLCdhJykKCQkJCQlzYXZlLndyaXRlKCJOYW1hIDogIisgbmFtYSArICdcbicgIklEICAgICAgICA6ICIrIGlkICsgJ1xuJyAiRW1haWwgIDogIisgbWFpbCArICdcblxuJykKCQkJCQlzYXZlLmNsb3NlKCkKCQkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXBhc3MKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXByaW50ICdcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTJtU2VsZXNhaSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybVRvdGFsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3N0cihsZW4oYmVyaGFzaWwpKQoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtRmlsZSB0ZXJzaW1wYW4gXDAzM1sxOzkxbTpcMDMzWzE7OTdtIG91dC9UZW1hbk1haWxWdWxuLnR4dCIKCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJbWVudSgpCgkKZGVmIGNsb25lX2RhcmlfbWVtYmVyX2dyb3VwKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJa2VsdWFyKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJbXBzaCA9IFtdCglqbWwgPSAwCglwcmludCA0MioiXDAzM1sxOzk2bT0iCglpZD1yYXdfaW5wdXQoJ1wwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbU1hc3VrYW4gSUQgZ3JvdXAgXDAzM1sxOzkxbTpcMDMzWzE7OTdtICcpCgl0cnk6CgkJcj1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2dyb3VwLz9pZD0nK2lkKycmYWNjZXNzX3Rva2VuPScrdG9rZXQpCgkJYXN3PWpzb24ubG9hZHMoci50ZXh0KQoJCXByaW50IlwwMzNbMTs5Nm1bXDAzM1sxOzk3beKck1wwMzNbMTs5Nm1dIFwwMzNbMTs5M21OYW1hIGdyb3VwIFwwMzNbMTs5MW06XDAzM1sxOzk3bSAiK2Fzd1snbmFtZSddCglleGNlcHQgS2V5RXJyb3I6CgkJcHJpbnQiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtR3JvdXAgdGlkYWsgZGl0ZW11a2FuIgoJCXJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5N21LZW1iYWxpXDAzM1sxOzk2bV0iKQoJCW1lbnUoKQoJamFsYW4oJ1wwMzNbMTs5Nm1b4py6XSBcMDMzWzE7OTNtTWVuZ2FtYmlsIGVtYWlsIFwwMzNbMTs5N20uLi4nKQoJdGVtYW4gPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLycraWQrJy9tZW1iZXJzP2ZpZWxkcz1uYW1lLGlkJmxpbWl0PTk5OTk5OTk5OSZhY2Nlc3NfdG9rZW49Jyt0b2tldCkKCWtpbWFrID0ganNvbi5sb2Fkcyh0ZW1hbi50ZXh0KQoJamFsYW4oJ1wwMzNbMTs5Nm1b4py6XSBcMDMzWzE7OTNtU3RhcnQgXDAzM1sxOzk3bS4uLicpCglwcmludCgnXHgxYlsxOzk2bVshXSBceDFiWzE7OTNtU3RvcCBDVFJMK3onKQoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJZm9yIHcgaW4ga2ltYWtbJ2RhdGEnXToKCQlqbWwgKz0xCgkJbXBzaC5hcHBlbmQoam1sKQoJCWlkID0gd1snaWQnXQoJCW5hbWEgPSB3WyduYW1lJ10KCQlsaW5rcyA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vIitpZCsiP2FjY2Vzc190b2tlbj0iK3Rva2V0KQoJCXogPSBqc29uLmxvYWRzKGxpbmtzLnRleHQpCgkJdHJ5OgoJCQltYWlsID0gelsnZW1haWwnXQoJCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCQlvdHcgPSB5YWhvby5zZWFyY2gobWFpbCkuZ3JvdXAoKQoJCQlpZiAneWFob28uY29tJyBpbiBvdHc6CgkJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCQlici5fZmFjdG9yeS5pc19odG1sID0gVHJ1ZQoJCQkJYnIuc2VsZWN0X2Zvcm0obnI9MCkKCQkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQkJa2xpayA9IGJyLnN1Ym1pdCgpLnJlYWQoKQoJCQkJam9rID0gcmUuY29tcGlsZShyJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4uKicpCgkJCQl0cnk6CgkJCQkJcGVrID0gam9rLnNlYXJjaChrbGlrKS5ncm91cCgpCgkJCQlleGNlcHQ6CgkJCQkJY29udGludWUKCQkJCWlmICcibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+JyBpbiBwZWs6CgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4pyTXSBcMDMzWzE7OTJtVlVMTiIpCgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtSUQgICBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIitpZCkKCQkJCQlwcmludCgiXDAzM1sxOzk2bVvinrldIFwwMzNbMTs5N21FbWFpbFwwMzNbMTs5MW06IFwwMzNbMTs5Mm0iK21haWwpCgkJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtTmFtYSBcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIituYW1hKQoJCQkJCXNhdmUgPSBvcGVuKCdvdXQvR3J1cE1haWxWdWxuLnR4dCcsJ2EnKQoJCQkJCXNhdmUud3JpdGUoIk5hbWEgOiAiKyBuYW1hICsgJ1xuJyAiSUQgICAgICAgIDogIisgaWQgKyAnXG4nICJFbWFpbCAgOiAiKyBtYWlsICsgJ1xuXG4nKQoJCQkJCXNhdmUuY2xvc2UoKQoJCQkJCWJlcmhhc2lsLmFwcGVuZChtYWlsKQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJcGFzcwoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJcHJpbnQgJ1wwMzNbMTs5Nm1bXDAzM1sxOzk3beKck1wwMzNbMTs5Nm1dIFwwMzNbMTs5Mm1TZWxlc2FpIFwwMzNbMTs5N20uLi4uJwoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtVG90YWwgXDAzM1sxOzkxbTogXDAzM1sxOzk3bSIrc3RyKGxlbihiZXJoYXNpbCkpCglwcmludCJcMDMzWzE7OTZtWytdIFwwMzNbMTs5Mm1GaWxlIHRlcnNpbXBhbiBcMDMzWzE7OTFtOlwwMzNbMTs5N20gb3V0L0dydXBNYWlsVnVsbi50eHQiCglyYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTdtS2VtYmFsaVwwMzNbMTs5Nm1dIikKCW1lbnUoKQoJCgpkZWYgY2xvbmVfZGFyaV9maWxlKCk6CglnbG9iYWwgdG9rZXQKCW9zLnN5c3RlbSgnY2xlYXInKQoJdHJ5OgoJCXRva2V0PW9wZW4oJ2xvZ2luLnR4dCcsJ3InKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXByaW50IlwwMzNbMTs5Nm1bIV0gXHgxYlsxOzkxbVRva2VuIGludmFsaWQiCgkJb3Muc3lzdGVtKCdybSAtcmYgbG9naW4udHh0JykKCQl0aW1lLnNsZWVwKDEpCgkJa2VsdWFyKCkKCXRyeToKCQlvcy5ta2Rpcignb3V0JykKCWV4Y2VwdCBPU0Vycm9yOgoJCXBhc3MKCW9zLnN5c3RlbSgnY2xlYXInKQoJcHJpbnQgbG9nbwoJcHJpbnQgNDIqIlwwMzNbMTs5Nm09IgoJZmlsZXMgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkzbU5hbWEgRmlsZSBcMDMzWzE7OTFtOiBcMDMzWzE7OTdtIikKCXRyeToKCQl0b3RhbCA9IG9wZW4oZmlsZXMsInIiKQoJCW1haWwgPSB0b3RhbC5yZWFkbGluZXMoKQoJZXhjZXB0IElPRXJyb3I6CgkJcHJpbnQiXDAzM1sxOzk2bVshXSBceDFiWzE7OTFtRmlsZSB0aWRhayBkaXRlbXVrYW4iCgkJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUtlbWJhbGlcMDMzWzE7OTZtXSIpCgkJbWVudSgpCgltcHNoID0gW10KCWptbCA9IDAKCWphbGFuKCdcMDMzWzE7OTZtW+Kcul0gXDAzM1sxOzkzbVN0YXJ0IFwwMzNbMTs5N20uLi4nKQoJcHJpbnQoJ1x4MWJbMTs5Nm1bIV0gXHgxYlsxOzkzbVN0b3AgQ1RSTCt6JykKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCW1haWwgPSBvcGVuKGZpbGVzLCJyIikucmVhZGxpbmVzKCkKCWZvciBwdyBpbiBtYWlsOgoJCW1haWwgPSBwdy5yZXBsYWNlKCJcbiIsIiIpCgkJam1sICs9MQoJCW1wc2guYXBwZW5kKGptbCkKCQl5YWhvbyA9IHJlLmNvbXBpbGUocidALionKQoJCW90dyA9IHlhaG9vLnNlYXJjaChtYWlsKS5ncm91cCgpCgkJaWYgJ3lhaG9vLmNvbScgaW4gb3R3OgoJCQlici5vcGVuKCJodHRwczovL2xvZ2luLnlhaG9vLmNvbS9jb25maWcvbG9naW4/LnNyYz1mcGN0eCYuaW50bD1pZCYubGFuZz1pZC1JRCYuZG9uZT1odHRwczovL2lkLnlhaG9vLmNvbSIpCgkJCWJyLl9mYWN0b3J5LmlzX2h0bWwgPSBUcnVlCgkJCWJyLnNlbGVjdF9mb3JtKG5yPTApCgkJCWJyWyJ1c2VybmFtZSJdID0gbWFpbAoJCQlrbGlrID0gYnIuc3VibWl0KCkucmVhZCgpCgkJCWpvayA9IHJlLmNvbXBpbGUocicibWVzc2FnZXMuRVJST1JfSU5WQUxJRF9VU0VSTkFNRSI+LionKQoJCQl0cnk6CgkJCQlwZWsgPSBqb2suc2VhcmNoKGtsaWspLmdyb3VwKCkKCQkJZXhjZXB0OgoJCQkJY29udGludWUKCQkJaWYgJyJtZXNzYWdlcy5FUlJPUl9JTlZBTElEX1VTRVJOQU1FIj4nIGluIHBlazoKCQkJCXByaW50KCJcMDMzWzE7OTZtW+Kck10gXDAzM1sxOzkybVZVTE4iKQoJCQkJcHJpbnQoIlwwMzNbMTs5Nm1b4p65XSBcMDMzWzE7OTdtRW1haWxcMDMzWzE7OTFtOiBcMDMzWzE7OTJtIittYWlsKQoJCQkJc2F2ZSA9IG9wZW4oJ291dC9NYWlsVnVsbi50eHQnLCdhJykKCQkJCXNhdmUud3JpdGUoIkVtYWlsOiAiKyBtYWlsICsgJ1xuXG4nKQoJCQkJc2F2ZS5jbG9zZSgpCgkJCQliZXJoYXNpbC5hcHBlbmQobWFpbCkKCXByaW50IDQyKiJcMDMzWzE7OTZtPSIKCXByaW50ICdcMDMzWzE7OTZtW1wwMzNbMTs5N23inJNcMDMzWzE7OTZtXSBcMDMzWzE7OTJtU2VsZXNhaSBcMDMzWzE7OTdtLi4uLicKCXByaW50IlwwMzNbMTs5Nm1bK10gXDAzM1sxOzkybVRvdGFsIFwwMzNbMTs5MW06IFwwMzNbMTs5N20iK3N0cihsZW4oYmVyaGFzaWwpKQoJcHJpbnQiXDAzM1sxOzk2bVsrXSBcMDMzWzE7OTJtRmlsZSBUZXJzaW1wYW4gXDAzM1sxOzkxbTpcMDMzWzE7OTdtIG91dC9GaWxlTWFpbFZ1bG4udHh0IgoJcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzk3bUtlbWJhbGlcMDMzWzE7OTZtXSIpCgltZW51KCkKCQogICAgICAgCgkJCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CglzaWFwYSgpCg=='))